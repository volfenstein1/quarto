<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.6">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Comparing computer vision models – Wolfgang Schmaltz</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark-d0a9048d95e02c7ff9c82715fd5ddea4.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-922b7d4eaa32d29c8d508f3d8cf3162d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax) {MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.11.1.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Wolfgang Schmaltz</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Profile</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./mathematics.html"> 
<span class="menu-text">Research Mathematics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./limitations.html"> 
<span class="menu-text">Limitations of AI</span></a>
  </li>  
  <li class="nav-item">
    <span class="nav-link">
<span class="menu-text">Forecasting</span>
    </span>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./gpt.html"> 
<span class="menu-text">Wolfgang-GPT</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#benchmarks" id="toc-benchmarks" class="nav-link active" data-scroll-target="#benchmarks">Benchmarks</a></li>
  <li><a href="#inference-model-performance" id="toc-inference-model-performance" class="nav-link" data-scroll-target="#inference-model-performance">Inference model performance</a>
  <ul class="collapse">
  <li><a href="#commentary-on-findings" id="toc-commentary-on-findings" class="nav-link" data-scroll-target="#commentary-on-findings">Commentary on findings</a></li>
  <li><a href="#speed-vs-parameter-count" id="toc-speed-vs-parameter-count" class="nav-link" data-scroll-target="#speed-vs-parameter-count">Speed vs parameter count</a></li>
  </ul></li>
  <li><a href="#trained-model-performance" id="toc-trained-model-performance" class="nav-link" data-scroll-target="#trained-model-performance">Trained model performance</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Comparing computer vision models</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>As newcomers in the world of deep learning, we are told that we can generally treat pre-trained computer vision models as ‘black boxes’, without understanding the inner workings of the models. On this page, we will compare the performance of some of the state-of-the-art computer vision models. In doing so, we gain a better mental map of what performance looks like on the cutting edge, as well as demonstrating some of the visualization tools of data analysis.</p>
<p>We use the state-of-the-art computer vision models from <a href="https://timm.fast.ai/">PyTorch Image Models</a> (timm). Our benchmarks for these models were collected by Ross Wightman and come from his <a href="https://github.com/huggingface/pytorch-image-models/tree/main">GitHub</a>. Our analysis is based on Jeremey Howard’s orignal <a href="https://www.kaggle.com/code/jhoward/which-image-models-are-best/">analysis</a>.</p>
<section id="benchmarks" class="level1">
<h1>Benchmarks</h1>
<p>We download the benchmarks—in this case, CSV files—from Ross Wightman’s github.</p>
<div id="5514e0f1" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:31.388794Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:31.388333Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:33.591639Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:33.590837Z&quot;}" data-papermill="{&quot;duration&quot;:2.221899,&quot;end_time&quot;:&quot;2023-04-25T13:35:33.593935&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:31.372036&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Clone Ross Wightman's repo</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="op">!</span> git clone <span class="op">--</span>depth <span class="dv">1</span> https:<span class="op">//</span>github.com<span class="op">/</span>rwightman<span class="op">/</span>pytorch<span class="op">-</span>image<span class="op">-</span>models.git</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>cd pytorch<span class="op">-</span>image<span class="op">-</span>models<span class="op">/</span>results</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>df_results <span class="op">=</span> pd.read_csv(<span class="st">'results-imagenet.csv'</span>)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge CSV files together on 'model' column</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_data(part, col):</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> pd.read_csv(<span class="ss">f'benchmark-</span><span class="sc">{</span>part<span class="sc">}</span><span class="ss">-amp-nhwc-pt111-cu113-rtx3090.csv'</span>).merge(df_results, on<span class="op">=</span><span class="st">'model'</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'secs'</span>] <span class="op">=</span> <span class="fl">1.</span> <span class="op">/</span> df[col]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">'family'</span>] <span class="op">=</span> df.model.<span class="bu">str</span>.extract(<span class="st">'^([a-z]+?(?:v2)?)(?:\d|_|$)'</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df[<span class="op">~</span>df.model.<span class="bu">str</span>.endswith(<span class="st">'gn'</span>)]</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>    df.loc[df.model.<span class="bu">str</span>.contains(<span class="st">'in22'</span>),<span class="st">'family'</span>] <span class="op">=</span> df.loc[df.model.<span class="bu">str</span>.contains(<span class="st">'in22'</span>),<span class="st">'family'</span>] <span class="op">+</span> <span class="st">'_in22'</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    df.loc[df.model.<span class="bu">str</span>.contains(<span class="st">'resnet.*d'</span>),<span class="st">'family'</span>] <span class="op">=</span> df.loc[df.model.<span class="bu">str</span>.contains(<span class="st">'resnet.*d'</span>),<span class="st">'family'</span>] <span class="op">+</span> <span class="st">'d'</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df[df.family.<span class="bu">str</span>.contains(<span class="st">'^re[sg]netd?|beit|convnext|levit|efficient|vit|vgg|swin'</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Cloning into 'pytorch-image-models'...
remote: Enumerating objects: 555, done.
remote: Counting objects: 100% (555/555), done.
remote: Compressing objects: 100% (395/395), done.
remote: Total 555 (delta 218), reused 323 (delta 154), pack-reused 0
Receiving objects: 100% (555/555), 2.39 MiB | 12.89 MiB/s, done.
Resolving deltas: 100% (218/218), done.
/kaggle/working/pytorch-image-models/results</code></pre>
</div>
</div>
<p>We take a look at the first few rows of data for inference models.</p>
<div id="17e74f3e" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:33.723902Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:33.723480Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:33.801312Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:33.800649Z&quot;}" data-papermill="{&quot;duration&quot;:0.121832,&quot;end_time&quot;:&quot;2023-04-25T13:35:33.804567&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:33.682735&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="2">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> get_data(<span class="st">'infer'</span>, <span class="st">'infer_samples_per_sec'</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">model</th>
<th data-quarto-table-cell-role="th">infer_samples_per_sec</th>
<th data-quarto-table-cell-role="th">infer_step_time</th>
<th data-quarto-table-cell-role="th">infer_batch_size</th>
<th data-quarto-table-cell-role="th">infer_img_size</th>
<th data-quarto-table-cell-role="th">param_count_x</th>
<th data-quarto-table-cell-role="th">top1</th>
<th data-quarto-table-cell-role="th">top1_err</th>
<th data-quarto-table-cell-role="th">top5</th>
<th data-quarto-table-cell-role="th">top5_err</th>
<th data-quarto-table-cell-role="th">param_count_y</th>
<th data-quarto-table-cell-role="th">img_size</th>
<th data-quarto-table-cell-role="th">crop_pct</th>
<th data-quarto-table-cell-role="th">interpolation</th>
<th data-quarto-table-cell-role="th">secs</th>
<th data-quarto-table-cell-role="th">family</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>levit_128s</td>
<td>21485.80</td>
<td>47.648</td>
<td>1024</td>
<td>224</td>
<td>7.78</td>
<td>76.530</td>
<td>23.470</td>
<td>92.866</td>
<td>7.134</td>
<td>7.78</td>
<td>224</td>
<td>0.900</td>
<td>bicubic</td>
<td>0.000047</td>
<td>levit</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>regnetx_002</td>
<td>17821.98</td>
<td>57.446</td>
<td>1024</td>
<td>224</td>
<td>2.68</td>
<td>68.762</td>
<td>31.238</td>
<td>88.556</td>
<td>11.444</td>
<td>2.68</td>
<td>224</td>
<td>0.875</td>
<td>bicubic</td>
<td>0.000056</td>
<td>regnetx</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>regnety_002</td>
<td>16673.08</td>
<td>61.405</td>
<td>1024</td>
<td>224</td>
<td>3.16</td>
<td>70.252</td>
<td>29.748</td>
<td>89.540</td>
<td>10.460</td>
<td>3.16</td>
<td>224</td>
<td>0.875</td>
<td>bicubic</td>
<td>0.000060</td>
<td>regnety</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>levit_128</td>
<td>14657.83</td>
<td>69.849</td>
<td>1024</td>
<td>224</td>
<td>9.21</td>
<td>78.486</td>
<td>21.514</td>
<td>94.010</td>
<td>5.990</td>
<td>9.21</td>
<td>224</td>
<td>0.900</td>
<td>bicubic</td>
<td>0.000068</td>
<td>levit</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>regnetx_004</td>
<td>14440.03</td>
<td>70.903</td>
<td>1024</td>
<td>224</td>
<td>5.16</td>
<td>72.396</td>
<td>27.604</td>
<td>90.830</td>
<td>9.170</td>
<td>5.16</td>
<td>224</td>
<td>0.875</td>
<td>bicubic</td>
<td>0.000069</td>
<td>regnetx</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="inference-model-performance" class="level1">
<h1>Inference model performance</h1>
<p>We plot the benchmarks for the inference models. In our chart: - the x axis shows how many seconds it takes to process one image in a log scale - the y axis is the accuracy on Imagenet - the size of each bubble is proportional to the size of images used in testing - the color shows what “family” the architecture is from.</p>
<p>The chart is interactive: - hover your mouse over a marker to see details about the model - double-click in the legend to display just one family - single-click in the legend to show or hide a family.</p>
<div id="1ac48a68" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:33.932472Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:33.932165Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:37.335406Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:37.334544Z&quot;}" data-papermill="{&quot;duration&quot;:3.438062,&quot;end_time&quot;:&quot;2023-04-25T13:35:37.337688&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:33.899626&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>w,h <span class="op">=</span> <span class="dv">1000</span>,<span class="dv">800</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> show_all(df, title, size):</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> px.scatter(df, width<span class="op">=</span>w, height<span class="op">=</span>h, size<span class="op">=</span>df[size]<span class="op">**</span><span class="dv">2</span>, title<span class="op">=</span>title,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'secs'</span>,  y<span class="op">=</span><span class="st">'top1'</span>, log_x<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">'family'</span>, hover_name<span class="op">=</span><span class="st">'model'</span>, hover_data<span class="op">=</span>[size])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e2fbdcdc" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:37.376146Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:37.375907Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:38.826695Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:38.825996Z&quot;}" data-papermill="{&quot;duration&quot;:1.471906,&quot;end_time&quot;:&quot;2023-04-25T13:35:38.828439&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:37.356533&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>show_all(df, <span class="st">'Inference'</span>, <span class="st">'infer_img_size'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="d50a976c-9ddf-413c-91e0-16932de0c600" class="plotly-graph-div" style="height:800px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d50a976c-9ddf-413c-91e0-16932de0c600")) {                    Plotly.newPlot(                        "d50a976c-9ddf-413c-91e0-16932de0c600",                        [{"customdata":[[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=levit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["levit_128s","levit_128","levit_192","levit_256","levit_384"],"legendgroup":"levit","marker":{"color":"#636efa","size":[50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"levit","orientation":"v","showlegend":true,"x":[0.00004654236751715086,0.00006822292249261998,0.00007756230968148262,0.00010599687945186893,0.00017720128293728847],"xaxis":"x","y":[76.53,78.486,79.842,81.51,82.586],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnetx<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnetx_002","regnetx_004","regnetx_008","regnetx_006","regnetx_016","regnetx_032","regnetx_040","regnetx_080","regnetx_064","regnetx_120","regnetx_160","regnetx_320"],"legendgroup":"regnetx","marker":{"color":"#EF553B","size":[50176,50176,50176,50176,50176,50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnetx","orientation":"v","showlegend":true,"x":[0.00005611048828469115,0.00006925193368711838,0.00011822399190402103,0.0001259786970023369,0.00026479614668647344,0.0006228278877415016,0.0006304057291272663,0.0007938902208602596,0.0008572212316554657,0.0012854296548621376,0.001604157977477622,0.0038134462113411888],"xaxis":"x","y":[68.762,72.396,75.038,73.852,76.95,78.172,78.482,79.194,79.072,79.596,79.856,80.246],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[288],[288],[224],[288],[288],[224],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnety<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnety_002","regnety_006","regnety_004","regnety_008","regnety_016","regnety_032","regnety_040","regnety_120","regnety_080","regnety_064","regnety_320","regnety_160"],"legendgroup":"regnety","marker":{"color":"#00cc96","size":[50176,50176,50176,50176,50176,82944,82944,50176,82944,82944,50176,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnety","orientation":"v","showlegend":true,"x":[0.000059976920880845045,0.00010017450398594352,0.00010468376082691796,0.00012704688411164372,0.00029335406368716726,0.0007311277645768598,0.0011773986554107355,0.0013256445946841651,0.0018643499011894553,0.0021192726656211586,0.002407666008571291,0.0024128362890577875],"xaxis":"x","y":[70.252,75.246,74.034,76.316,77.862,82.724,83.038,80.366,83.932,83.716,80.81,83.686],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[256],[224],[256],[256],[224],[288],[288],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnet<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18","resnet34","resnet26","resnet26t","resnet50","resnet32ts","resnet33ts","resnet101","resnet51q","resnet61q","resnet152"],"legendgroup":"resnet","marker":{"color":"#ab63fa","size":[50176,50176,50176,65536,50176,65536,65536,50176,82944,82944,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnet","orientation":"v","showlegend":true,"x":[0.00009236979323021786,0.00015969338869370808,0.00017561482751111642,0.0002638710409448694,0.00028338807446305045,0.00029286350217890445,0.00029674294938752255,0.00046063207933926936,0.000534896657965681,0.0005959830740806961,0.0006634335339114052],"xaxis":"x","y":[69.748,75.11,75.292,77.882,80.374,79.004,79.214,81.938,82.36,82.524,82.822],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[320],[320],[320]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetd<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18d","resnet34d","resnet26d","resnet50d","resnet101d","resnet152d","resnet200d"],"legendgroup":"resnetd","marker":{"color":"#FFA15A","size":[50176,50176,50176,50176,102400,102400,102400],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetd","orientation":"v","showlegend":true,"x":[0.00011218547400045547,0.00017947263760167124,0.0002044542400742578,0.00031235065734195835,0.0010008807750820723,0.0014054023666975855,0.0019066503965832825],"xaxis":"x","y":[72.26,77.116,76.696,80.53,83.022,83.68,83.962],"yaxis":"y","type":"scatter"},{"customdata":[[256],[256],[256]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=mobilevit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["mobilevit_xxs","mobilevit_xs","mobilevit_s"],"legendgroup":"mobilevit","marker":{"color":"#19d3f3","size":[65536,65536,65536],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"mobilevit","orientation":"v","showlegend":true,"x":[0.00019510063290645313,0.00032276493352656195,0.0004140683875348853],"xaxis":"x","y":[68.912,74.644,78.312],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=repvgg<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["repvgg_b0","repvgg_a2","repvgg_b1","repvgg_b1g4","repvgg_b2","repvgg_b3","repvgg_b2g4","repvgg_b3g4"],"legendgroup":"repvgg","marker":{"color":"#FF6692","size":[50176,50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"repvgg","orientation":"v","showlegend":true,"x":[0.00019805588344807372,0.00025848743492578826,0.0005164995790528431,0.0006192755714365336,0.0008039813154742284,0.0009981932701809725,0.0012302090125112257,0.0015526503741887404],"xaxis":"x","y":[75.152,76.46,78.366,77.594,78.792,80.492,79.366,80.212],"yaxis":"y","type":"scatter"},{"customdata":[[240],[240],[240],[240],[240],[240],[240],[240],[240],[408],[408]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=crossvit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["crossvit_tiny_240","crossvit_9_240","crossvit_9_dagger_240","crossvit_small_240","crossvit_15_240","crossvit_15_dagger_240","crossvit_18_240","crossvit_18_dagger_240","crossvit_base_240","crossvit_15_dagger_408","crossvit_18_dagger_408"],"legendgroup":"crossvit","marker":{"color":"#B6E880","size":[57600,57600,57600,57600,57600,57600,57600,57600,57600,166464,166464],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"crossvit","orientation":"v","showlegend":true,"x":[0.00025943432938820195,0.0002746551018558445,0.0002807190900209978,0.0005422640609070993,0.0005881107530170082,0.0006054331571522846,0.0008294969101240098,0.0008531185749507324,0.0013383297644539614,0.002823662289990117,0.0038593647485623862],"xaxis":"x","y":[73.324,73.964,76.98,81.02,81.536,82.332,82.4,82.518,82.216,83.838,84.196],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[384],[448],[448],[448],[480]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetv2<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetv2_50","resnetv2_101","resnetv2_152x2_bit_teacher","resnetv2_152x2_bit_teacher_384","resnetv2_50x3_bitm","resnetv2_152x2_bitm","resnetv2_101x3_bitm","resnetv2_152x4_bitm"],"legendgroup":"resnetv2","marker":{"color":"#FF97FF","size":[50176,50176,50176,147456,200704,200704,200704,230400],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetv2","orientation":"v","showlegend":true,"x":[0.00027003891260730673,0.0004473172150030194,0.0035710459593614975,0.010310341272296113,0.01076194575979337,0.014216661927779357,0.017295053614666205,0.05461496450027308],"xaxis":"x","y":[80.432,82.03,82.862,83.844,84.014,84.51,84.44,84.916],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=convit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["convit_tiny","convit_small","convit_base"],"legendgroup":"convit","marker":{"color":"#FECB52","size":[50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"convit","orientation":"v","showlegend":true,"x":[0.0003142578800163414,0.0007307163943530237,0.0014544608313698112],"xaxis":"x","y":[73.116,81.426,82.288],"yaxis":"y","type":"scatter"},{"customdata":[[224],[288],[320],[320],[352],[384],[416]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetrs<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetrs50","resnetrs101","resnetrs152","resnetrs200","resnetrs270","resnetrs350","resnetrs420"],"legendgroup":"resnetrs","marker":{"color":"#636efa","size":[50176,82944,102400,102400,123904,147456,173056],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetrs","orientation":"v","showlegend":true,"x":[0.000351576645466595,0.0009125586318920991,0.0015921792156925183,0.0021917327839389824,0.0034781398907864076,0.005297171310520182,0.007450454477723141],"xaxis":"x","y":[79.892,82.288,83.712,84.448,84.434,84.72,85.008],"yaxis":"y","type":"scatter"},{"customdata":[[288],[320],[320],[320],[320],[320],[320],[320],[320]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnetz<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnetz_b16","regnetz_c16","regnetz_d8","regnetz_040","regnetz_040h","regnetz_d32","regnetz_e8","regnetz_c16_evos","regnetz_d8_evos"],"legendgroup":"regnetz","marker":{"color":"#EF553B","size":[82944,102400,102400,102400,102400,102400,102400,102400,102400],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnetz","orientation":"v","showlegend":true,"x":[0.00036824952587873543,0.0005641494319015222,0.0008748829844008363,0.000961917679085024,0.0009669590106075403,0.0009901872444079175,0.0016463344363774057,0.00167117884956048,0.002579646588417387],"xaxis":"x","y":[80.716,82.518,84.05,84.236,84.494,84.022,85.03,82.63,84.05],"yaxis":"y","type":"scatter"},{"customdata":[[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetblur<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetblur50"],"legendgroup":"resnetblur","marker":{"color":"#00cc96","size":[50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetblur","orientation":"v","showlegend":true,"x":[0.00038181346121538863],"xaxis":"x","y":[79.286],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=vgg<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["vgg11_bn","vgg13","vgg13_bn","vgg16","vgg19","vgg16_bn","vgg19_bn"],"legendgroup":"vgg","marker":{"color":"#ab63fa","size":[50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"vgg","orientation":"v","showlegend":true,"x":[0.0003856239395341663,0.000495051955702751,0.000609002271578473,0.00061273383454961,0.0007314379338341244,0.0007335465508641178,0.0008591212907438273],"xaxis":"x","y":[70.36,69.926,71.594,71.594,72.368,73.35,74.214],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[384],[384]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=swin<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["swin_tiny_patch4_window7_224","swin_s3_tiny_224","swin_small_patch4_window7_224","swin_s3_small_224","swin_base_patch4_window7_224","swin_s3_base_224","swin_large_patch4_window7_224","swin_base_patch4_window12_384","swin_large_patch4_window12_384"],"legendgroup":"swin","marker":{"color":"#FFA15A","size":[50176,50176,50176,50176,50176,50176,50176,147456,147456],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"swin","orientation":"v","showlegend":true,"x":[0.0005460184335823177,0.000599319173418996,0.0008899409969119047,0.0012179822905374956,0.001254390366281987,0.001502765087761481,0.002185123678000175,0.004700352526439483,0.007950389569088886],"xaxis":"x","y":[81.378,82.122,83.212,83.77,85.252,83.93,86.32,86.432,87.148],"yaxis":"y","type":"scatter"},{"customdata":[[224],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetv2d<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetv2_50x1_bit_distilled","resnetv2_50d_evos"],"legendgroup":"resnetv2d","marker":{"color":"#19d3f3","size":[50176,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetv2d","orientation":"v","showlegend":true,"x":[0.0006401843730994526,0.0011976191331632715],"xaxis":"x","y":[82.818,81.976],"yaxis":"y","type":"scatter"},{"customdata":[[288],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnetv<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnetv_040","regnetv_064"],"legendgroup":"regnetv","marker":{"color":"#FF6692","size":[82944,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnetv","orientation":"v","showlegend":true,"x":[0.0011776343680813981,0.0021355201059217975],"xaxis":"x","y":[83.194,83.712],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"secs"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"top1"}},"legend":{"title":{"text":"family"},"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"Inference"},"height":800,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d50a976c-9ddf-413c-91e0-16932de0c600');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>We can easily restrict to a subset of the models to get a simpler plot. We distinguish between the covnext models trained on the 22,000 category imagenet sample, <code>covnext_in22</code>, vs those which haven’t been, <code>covnext</code>.</p>
<div id="bc596a03" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:38.909350Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:38.908995Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:38.912728Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:38.911969Z&quot;}" data-papermill="{&quot;duration&quot;:0.025962,&quot;end_time&quot;:&quot;2023-04-25T13:35:38.914635&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:38.888673&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>subset <span class="op">=</span> <span class="st">'levit|resnetd|resnet|regnety|vgg|swin'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function overlays a linear fit for each family.</p>
<div id="e2ce8935" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:38.994162Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:38.993421Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:38.998609Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:38.997908Z&quot;}" data-papermill="{&quot;duration&quot;:0.027803,&quot;end_time&quot;:&quot;2023-04-25T13:35:39.000337&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:38.972534&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> show_subs(df, title, size):</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>    df_subs <span class="op">=</span> df[df.family.<span class="bu">str</span>.fullmatch(subset)]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> px.scatter(df_subs, width<span class="op">=</span>w, height<span class="op">=</span>h, size<span class="op">=</span>df_subs[size]<span class="op">**</span><span class="dv">2</span>, title<span class="op">=</span>title,</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>        trendline<span class="op">=</span><span class="st">"ols"</span>, trendline_options<span class="op">=</span>{<span class="st">'log_x'</span>:<span class="va">True</span>},</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span><span class="st">'secs'</span>,  y<span class="op">=</span><span class="st">'top1'</span>, log_x<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">'family'</span>, hover_name<span class="op">=</span><span class="st">'model'</span>, hover_data<span class="op">=</span>[size])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="73efff32" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:39.041715Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:39.040996Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:39.849759Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:39.849086Z&quot;}" data-papermill="{&quot;duration&quot;:0.83089,&quot;end_time&quot;:&quot;2023-04-25T13:35:39.851539&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:39.020649&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>show_subs(df, <span class="st">'Inference'</span>, <span class="st">'infer_img_size'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="3cc205c9-22db-4918-a356-2071c77f8116" class="plotly-graph-div" style="height:800px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3cc205c9-22db-4918-a356-2071c77f8116")) {                    Plotly.newPlot(                        "3cc205c9-22db-4918-a356-2071c77f8116",                        [{"customdata":[[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=levit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["levit_128s","levit_128","levit_192","levit_256","levit_384"],"legendgroup":"levit","marker":{"color":"#636efa","size":[50176,50176,50176,50176,50176],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"levit","orientation":"v","showlegend":true,"x":[0.00004654236751715086,0.00006822292249261998,0.00007756230968148262,0.00010599687945186893,0.00017720128293728847],"xaxis":"x","y":[76.53,78.486,79.842,81.51,82.586],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 10.6933 * log10(secs) + 123.28<br>R<sup>2</sup>=0.940418<br><br>family=levit<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"levit","marker":{"color":"#636efa","symbol":"circle"},"mode":"lines","name":"levit","showlegend":false,"x":[0.00004654236751715086,0.00006822292249261998,0.00007756230968148262,0.00010599687945186893,0.00017720128293728847],"xaxis":"x","y":[76.95505389897177,78.73101445728801,79.32684872810374,80.7773110158231,83.16377189981354],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[288],[288],[224],[288],[288],[224],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnety<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnety_002","regnety_006","regnety_004","regnety_008","regnety_016","regnety_032","regnety_040","regnety_120","regnety_080","regnety_064","regnety_320","regnety_160"],"legendgroup":"regnety","marker":{"color":"#EF553B","size":[50176,50176,50176,50176,50176,82944,82944,50176,82944,82944,50176,82944],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"regnety","orientation":"v","showlegend":true,"x":[0.000059976920880845045,0.00010017450398594352,0.00010468376082691796,0.00012704688411164372,0.00029335406368716726,0.0007311277645768598,0.0011773986554107355,0.0013256445946841651,0.0018643499011894553,0.0021192726656211586,0.002407666008571291,0.0024128362890577875],"xaxis":"x","y":[70.252,75.246,74.034,76.316,77.862,82.724,83.038,80.366,83.932,83.716,80.81,83.686],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 6.84788 * log10(secs) + 101.708<br>R<sup>2</sup>=0.868123<br><br>family=regnety<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"regnety","marker":{"color":"#EF553B","symbol":"circle"},"mode":"lines","name":"regnety","showlegend":false,"x":[0.000059976920880845045,0.00010017450398594352,0.00010468376082691796,0.00012704688411164372,0.00029335406368716726,0.0007311277645768598,0.0011773986554107355,0.0013256445946841651,0.0018643499011894553,0.0021192726656211586,0.002407666008571291,0.0024128362890577875],"xaxis":"x","y":[72.79647023413783,74.321994115932,74.45294014546619,75.02874242198645,77.51745579809545,80.23333455789111,81.65036895055266,82.00305941802522,83.01723320904719,83.3983824053688,83.7778195774491,83.78419916604808],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[256],[224],[256],[256],[224],[288],[288],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnet<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18","resnet34","resnet26","resnet26t","resnet50","resnet32ts","resnet33ts","resnet101","resnet51q","resnet61q","resnet152"],"legendgroup":"resnet","marker":{"color":"#00cc96","size":[50176,50176,50176,65536,50176,65536,65536,50176,82944,82944,50176],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"resnet","orientation":"v","showlegend":true,"x":[0.00009236979323021786,0.00015969338869370808,0.00017561482751111642,0.0002638710409448694,0.00028338807446305045,0.00029286350217890445,0.00029674294938752255,0.00046063207933926936,0.000534896657965681,0.0005959830740806961,0.0006634335339114052],"xaxis":"x","y":[69.748,75.11,75.292,77.882,80.374,79.004,79.214,81.938,82.36,82.524,82.822],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 14.9129 * log10(secs) + 131.333<br>R<sup>2</sup>=0.949595<br><br>family=resnet<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"resnet","marker":{"color":"#00cc96","symbol":"circle"},"mode":"lines","name":"resnet","showlegend":false,"x":[0.00009236979323021786,0.00015969338869370808,0.00017561482751111642,0.0002638710409448694,0.00028338807446305045,0.00029286350217890445,0.00029674294938752255,0.00046063207933926936,0.000534896657965681,0.0005959830740806961,0.0006634335339114052],"xaxis":"x","y":[71.16771525135103,74.71336237373785,75.32888127963868,77.96593851992488,78.42808707101472,78.64109825732623,78.72632785837946,81.57430163072345,82.54238339020759,83.2427536968711,83.93715067082546],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[320],[320],[320]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetd<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18d","resnet34d","resnet26d","resnet50d","resnet101d","resnet152d","resnet200d"],"legendgroup":"resnetd","marker":{"color":"#ab63fa","size":[50176,50176,50176,50176,102400,102400,102400],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"resnetd","orientation":"v","showlegend":true,"x":[0.00011218547400045547,0.00017947263760167124,0.0002044542400742578,0.00031235065734195835,0.0010008807750820723,0.0014054023666975855,0.0019066503965832825],"xaxis":"x","y":[72.26,77.116,76.696,80.53,83.022,83.68,83.962],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 8.5734 * log10(secs) + 108.345<br>R<sup>2</sup>=0.896708<br><br>family=resnetd<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"resnetd","marker":{"color":"#ab63fa","symbol":"circle"},"mode":"lines","name":"resnetd","showlegend":false,"x":[0.00011218547400045547,0.00017947263760167124,0.0002044542400742578,0.00031235065734195835,0.0010008807750820723,0.0014054023666975855,0.0019066503965832825],"xaxis":"x","y":[74.47999758518219,76.22949984889806,76.71473618766862,78.29263910735216,82.62855072207492,83.89242733865937,85.02814921016497],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=vgg<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["vgg11_bn","vgg13","vgg13_bn","vgg16","vgg19","vgg16_bn","vgg19_bn"],"legendgroup":"vgg","marker":{"color":"#FFA15A","size":[50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"vgg","orientation":"v","showlegend":true,"x":[0.0003856239395341663,0.000495051955702751,0.000609002271578473,0.00061273383454961,0.0007314379338341244,0.0007335465508641178,0.0008591212907438273],"xaxis":"x","y":[70.36,69.926,71.594,71.594,72.368,73.35,74.214],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 11.8924 * log10(secs) + 110.113<br>R<sup>2</sup>=0.826696<br><br>family=vgg<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"vgg","marker":{"color":"#FFA15A","symbol":"circle"},"mode":"lines","name":"vgg","showlegend":false,"x":[0.0003856239395341663,0.000495051955702751,0.000609002271578473,0.00061273383454961,0.0007314379338341244,0.0007335465508641178,0.0008591212907438273],"xaxis":"x","y":[69.51419823403836,70.80437173913634,71.8743130336916,71.90586309950523,72.82045912671352,72.83532705773085,73.65146770918429],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[384],[384]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=swin<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>infer_img_size=%{customdata[0]}<extra></extra>","hovertext":["swin_tiny_patch4_window7_224","swin_s3_tiny_224","swin_small_patch4_window7_224","swin_s3_small_224","swin_base_patch4_window7_224","swin_s3_base_224","swin_large_patch4_window7_224","swin_base_patch4_window12_384","swin_large_patch4_window12_384"],"legendgroup":"swin","marker":{"color":"#19d3f3","size":[50176,50176,50176,50176,50176,50176,50176,147456,147456],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"swin","orientation":"v","showlegend":true,"x":[0.0005460184335823177,0.000599319173418996,0.0008899409969119047,0.0012179822905374956,0.001254390366281987,0.001502765087761481,0.002185123678000175,0.004700352526439483,0.007950389569088886],"xaxis":"x","y":[81.378,82.122,83.212,83.77,85.252,83.93,86.32,86.432,87.148],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 4.79166 * log10(secs) + 97.8461<br>R<sup>2</sup>=0.857554<br><br>family=swin<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"swin","marker":{"color":"#19d3f3","symbol":"circle"},"mode":"lines","name":"swin","showlegend":false,"x":[0.0005460184335823177,0.000599319173418996,0.0008899409969119047,0.0012179822905374956,0.001254390366281987,0.001502765087761481,0.002185123678000175,0.004700352526439483,0.007950389569088886],"xaxis":"x","y":[82.21189536979995,82.40572233137108,83.22846560692773,83.88147241845685,83.94276611993266,84.31871234410453,85.09776467238049,86.69173280602168,87.78546833100492],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"secs"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"top1"}},"legend":{"title":{"text":"family"},"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"Inference"},"height":800,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3cc205c9-22db-4918-a356-2071c77f8116');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<section id="commentary-on-findings" class="level2">
<h2 class="anchored" data-anchor-id="commentary-on-findings">Commentary on findings</h2>
<p>The <a href="https://github.com/facebookresearch/LeViT">LeViT</a> family models are both fast and accurate. Apparently these models are constructed using a hybrid of convolution neural networks and transformets.</p>
<p>The <a href="https://github.com/microsoft/Swin-Transformer">Swin</a> family of transformers is apparently among the most accurate. It is described as a “hierarchical Transformer whose representation is computed with shifted windows.”</p>
</section>
<section id="speed-vs-parameter-count" class="level2">
<h2 class="anchored" data-anchor-id="speed-vs-parameter-count">Speed vs parameter count</h2>
<p>We finally compare speed vs parameter count. Often, parameter count is used in papers as a proxy for speed. However, as we see, there is a wide variation in speeds at each level of parameter count, so it’s really not a useful proxy. There is sometimes a correlation between parameter count and needed memory, but this is also not always so useful. In the following chart: - the x axis shows the parameter count in a log scale - the y axis shows the speed in seconds in a log scale.</p>
<div id="623bf7d6" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:39.974787Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:39.973998Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:40.066325Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:40.065515Z&quot;}" data-papermill="{&quot;duration&quot;:0.115477,&quot;end_time&quot;:&quot;2023-04-25T13:35:40.068605&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:39.953128&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>px.scatter(df, width<span class="op">=</span>w, height<span class="op">=</span>h,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'param_count_x'</span>,  y<span class="op">=</span><span class="st">'secs'</span>, log_x<span class="op">=</span><span class="va">True</span>, log_y<span class="op">=</span><span class="va">True</span>, color<span class="op">=</span><span class="st">'infer_img_size'</span>,</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    hover_name<span class="op">=</span><span class="st">'model'</span>, hover_data<span class="op">=</span>[<span class="st">'infer_samples_per_sec'</span>, <span class="st">'family'</span>]</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="2198d589-6238-47aa-8166-37c364b16cfa" class="plotly-graph-div" style="height:800px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2198d589-6238-47aa-8166-37c364b16cfa")) {                    Plotly.newPlot(                        "2198d589-6238-47aa-8166-37c364b16cfa",                        [{"customdata":[[21485.8,"levit"],[17821.98,"regnetx"],[16673.08,"regnety"],[14657.83,"levit"],[14440.03,"regnetx"],[12892.86,"levit"],[10826.05,"resnet"],[9982.58,"regnety"],[9552.58,"regnety"],[9434.24,"levit"],[8913.81,"resnetd"],[8458.52,"regnetx"],[7937.85,"regnetx"],[7871.11,"regnety"],[6262.0,"resnet"],[5694.28,"resnet"],[5643.3,"levit"],[5571.88,"resnetd"],[5125.56,"mobilevit"],[5049.08,"repvgg"],[4891.07,"resnetd"],[3868.66,"repvgg"],[3854.54,"crossvit"],[3789.73,"resnet"],[3776.49,"regnetx"],[3703.17,"resnetv2"],[3640.93,"crossvit"],[3562.28,"crossvit"],[3528.73,"resnet"],[3414.56,"resnet"],[3408.85,"regnety"],[3369.92,"resnet"],[3201.53,"resnetd"],[3182.1,"convit"],[3098.23,"mobilevit"],[2844.33,"resnetrs"],[2715.55,"regnetz"],[2619.08,"resnetblur"],[2593.2,"vgg"],[2415.06,"mobilevit"],[2235.55,"resnetv2"],[2170.93,"resnet"],[2019.99,"vgg"],[1936.11,"repvgg"],[1869.52,"resnet"],[1844.12,"crossvit"],[1831.44,"swin"],[1772.58,"regnetz"],[1700.36,"crossvit"],[1677.9,"resnet"],[1668.56,"swin"],[1651.71,"crossvit"],[1642.03,"vgg"],[1632.03,"vgg"],[1614.79,"repvgg"],[1605.58,"regnetx"],[1586.28,"regnetx"],[1562.05,"resnetv2d"],[1507.31,"resnet"],[1368.52,"convit"],[1367.75,"regnety"],[1367.17,"vgg"],[1363.24,"vgg"],[1259.62,"regnetx"],[1243.81,"repvgg"],[1205.55,"crossvit"],[1172.17,"crossvit"],[1166.56,"regnetx"],[1163.98,"vgg"],[1143.01,"regnetz"],[1123.67,"swin"],[1095.82,"resnetrs"],[1039.59,"regnetz"],[1034.17,"regnetz"],[1009.91,"regnetz"],[1001.81,"repvgg"],[999.12,"resnetd"],[849.33,"regnety"],[849.16,"regnetv"],[834.99,"resnetv2d"],[821.03,"swin"],[812.87,"repvgg"],[797.2,"swin"],[777.95,"regnetx"],[754.35,"regnety"],[747.2,"crossvit"],[711.54,"resnetd"],[687.54,"convit"],[665.44,"swin"],[644.06,"repvgg"],[628.07,"resnetrs"],[623.38,"regnetx"],[607.41,"regnetz"],[598.38,"regnetz"],[536.38,"regnety"],[524.48,"resnetd"],[471.86,"regnety"],[468.27,"regnetv"],[457.64,"swin"],[456.26,"resnetrs"],[415.34,"regnety"],[414.45,"regnety"],[387.65,"regnetz"],[354.15,"crossvit"],[287.51,"resnetrs"],[280.03,"resnetv2"],[262.23,"regnetx"],[259.11,"crossvit"],[212.75,"swin"],[188.78,"resnetrs"],[134.22,"resnetrs"],[125.78,"swin"],[96.99,"resnetv2"],[92.92,"resnetv2"],[70.34,"resnetv2"],[57.82,"resnetv2"],[18.31,"resnetv2"]],"hovertemplate":"<b>%{hovertext}</b><br><br>param_count_x=%{x}<br>secs=%{y}<br>infer_samples_per_sec=%{customdata[0]}<br>family=%{customdata[1]}<br>infer_img_size=%{marker.color}<extra></extra>","hovertext":["levit_128s","regnetx_002","regnety_002","levit_128","regnetx_004","levit_192","resnet18","regnety_006","regnety_004","levit_256","resnet18d","regnetx_008","regnetx_006","regnety_008","resnet34","resnet26","levit_384","resnet34d","mobilevit_xxs","repvgg_b0","resnet26d","repvgg_a2","crossvit_tiny_240","resnet26t","regnetx_016","resnetv2_50","crossvit_9_240","crossvit_9_dagger_240","resnet50","resnet32ts","regnety_016","resnet33ts","resnet50d","convit_tiny","mobilevit_xs","resnetrs50","regnetz_b16","resnetblur50","vgg11_bn","mobilevit_s","resnetv2_101","resnet101","vgg13","repvgg_b1","resnet51q","crossvit_small_240","swin_tiny_patch4_window7_224","regnetz_c16","crossvit_15_240","resnet61q","swin_s3_tiny_224","crossvit_15_dagger_240","vgg13_bn","vgg16","repvgg_b1g4","regnetx_032","regnetx_040","resnetv2_50x1_bit_distilled","resnet152","convit_small","regnety_032","vgg19","vgg16_bn","regnetx_080","repvgg_b2","crossvit_18_240","crossvit_18_dagger_240","regnetx_064","vgg19_bn","regnetz_d8","swin_small_patch4_window7_224","resnetrs101","regnetz_040","regnetz_040h","regnetz_d32","repvgg_b3","resnet101d","regnety_040","regnetv_040","resnetv2_50d_evos","swin_s3_small_224","repvgg_b2g4","swin_base_patch4_window7_224","regnetx_120","regnety_120","crossvit_base_240","resnet152d","convit_base","swin_s3_base_224","repvgg_b3g4","resnetrs152","regnetx_160","regnetz_e8","regnetz_c16_evos","regnety_080","resnet200d","regnety_064","regnetv_064","swin_large_patch4_window7_224","resnetrs200","regnety_320","regnety_160","regnetz_d8_evos","crossvit_15_dagger_408","resnetrs270","resnetv2_152x2_bit_teacher","regnetx_320","crossvit_18_dagger_408","swin_base_patch4_window12_384","resnetrs350","resnetrs420","swin_large_patch4_window12_384","resnetv2_152x2_bit_teacher_384","resnetv2_50x3_bitm","resnetv2_152x2_bitm","resnetv2_101x3_bitm","resnetv2_152x4_bitm"],"legendgroup":"","marker":{"color":[224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,224,256,224,224,224,240,256,224,224,240,240,224,256,224,256,224,224,256,224,288,224,224,256,224,224,224,224,288,240,224,320,240,288,224,240,224,224,224,224,224,224,224,224,288,224,224,224,224,240,240,224,224,320,224,288,320,320,320,224,320,288,288,288,224,224,224,224,224,240,320,224,224,224,320,224,320,320,288,320,288,288,224,320,224,288,320,408,352,224,224,408,384,384,416,384,384,448,448,448,480],"coloraxis":"coloraxis","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[7.78,2.68,3.16,9.21,5.16,10.95,11.69,6.06,4.34,18.89,11.71,7.26,6.2,6.26,21.8,16.0,39.13,21.82,1.27,15.82,16.01,28.21,7.01,16.01,9.19,25.55,8.55,8.78,25.56,17.96,11.2,19.68,25.58,5.71,2.32,35.69,9.72,25.56,132.87,5.58,44.54,44.55,133.05,57.42,35.7,26.86,28.29,13.46,27.53,36.85,28.33,28.21,133.05,138.36,39.97,15.3,22.12,25.55,60.19,27.78,19.44,143.67,138.37,39.57,89.02,43.27,44.27,26.21,143.68,23.37,49.61,63.62,27.12,28.94,27.58,123.09,44.57,20.65,20.64,25.59,49.74,61.76,87.77,46.11,51.82,105.03,60.21,86.54,71.13,83.83,86.62,54.28,57.7,13.49,39.18,64.69,30.58,30.58,196.53,93.21,145.05,83.59,23.46,28.5,129.86,236.34,107.81,44.61,87.9,163.96,191.89,196.74,236.34,217.32,236.34,387.93,936.53],"xaxis":"x","y":[0.00004654236751715086,0.00005611048828469115,0.000059976920880845045,0.00006822292249261998,0.00006925193368711838,0.00007756230968148262,0.00009236979323021786,0.00010017450398594352,0.00010468376082691796,0.00010599687945186893,0.00011218547400045547,0.00011822399190402103,0.0001259786970023369,0.00012704688411164372,0.00015969338869370808,0.00017561482751111642,0.00017720128293728847,0.00017947263760167124,0.00019510063290645313,0.00019805588344807372,0.0002044542400742578,0.00025848743492578826,0.00025943432938820195,0.0002638710409448694,0.00026479614668647344,0.00027003891260730673,0.0002746551018558445,0.0002807190900209978,0.00028338807446305045,0.00029286350217890445,0.00029335406368716726,0.00029674294938752255,0.00031235065734195835,0.0003142578800163414,0.00032276493352656195,0.000351576645466595,0.00036824952587873543,0.00038181346121538863,0.0003856239395341663,0.0004140683875348853,0.0004473172150030194,0.00046063207933926936,0.000495051955702751,0.0005164995790528431,0.000534896657965681,0.0005422640609070993,0.0005460184335823177,0.0005641494319015222,0.0005881107530170082,0.0005959830740806961,0.000599319173418996,0.0006054331571522846,0.000609002271578473,0.00061273383454961,0.0006192755714365336,0.0006228278877415016,0.0006304057291272663,0.0006401843730994526,0.0006634335339114052,0.0007307163943530237,0.0007311277645768598,0.0007314379338341244,0.0007335465508641178,0.0007938902208602596,0.0008039813154742284,0.0008294969101240098,0.0008531185749507324,0.0008572212316554657,0.0008591212907438273,0.0008748829844008363,0.0008899409969119047,0.0009125586318920991,0.000961917679085024,0.0009669590106075403,0.0009901872444079175,0.0009981932701809725,0.0010008807750820723,0.0011773986554107355,0.0011776343680813981,0.0011976191331632715,0.0012179822905374956,0.0012302090125112257,0.001254390366281987,0.0012854296548621376,0.0013256445946841651,0.0013383297644539614,0.0014054023666975855,0.0014544608313698112,0.001502765087761481,0.0015526503741887404,0.0015921792156925183,0.001604157977477622,0.0016463344363774057,0.00167117884956048,0.0018643499011894553,0.0019066503965832825,0.0021192726656211586,0.0021355201059217975,0.002185123678000175,0.0021917327839389824,0.002407666008571291,0.0024128362890577875,0.002579646588417387,0.002823662289990117,0.0034781398907864076,0.0035710459593614975,0.0038134462113411888,0.0038593647485623862,0.004700352526439483,0.005297171310520182,0.007450454477723141,0.007950389569088886,0.010310341272296113,0.01076194575979337,0.014216661927779357,0.017295053614666205,0.05461496450027308],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"param_count_x"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"secs"},"type":"log"},"coloraxis":{"colorbar":{"title":{"text":"infer_img_size"}},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"legend":{"tracegroupgap":0},"margin":{"t":60},"height":800,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2198d589-6238-47aa-8166-37c364b16cfa');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
</section>
<section id="trained-model-performance" class="level1">
<h1>Trained model performance</h1>
<p>We’ll now replicate the above analysis for training performance. First we grab the data:</p>
<div id="5c4b02df" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:40.155829Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:40.155002Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:40.187991Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:40.187223Z&quot;}" data-papermill="{&quot;duration&quot;:0.057066,&quot;end_time&quot;:&quot;2023-04-25T13:35:40.189845&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:40.132779&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>tdf <span class="op">=</span> get_data(<span class="st">'train'</span>, <span class="st">'train_samples_per_sec'</span>)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>tdf.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="9">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">model</th>
<th data-quarto-table-cell-role="th">train_samples_per_sec</th>
<th data-quarto-table-cell-role="th">train_step_time</th>
<th data-quarto-table-cell-role="th">train_batch_size</th>
<th data-quarto-table-cell-role="th">train_img_size</th>
<th data-quarto-table-cell-role="th">param_count_x</th>
<th data-quarto-table-cell-role="th">top1</th>
<th data-quarto-table-cell-role="th">top1_err</th>
<th data-quarto-table-cell-role="th">top5</th>
<th data-quarto-table-cell-role="th">top5_err</th>
<th data-quarto-table-cell-role="th">param_count_y</th>
<th data-quarto-table-cell-role="th">img_size</th>
<th data-quarto-table-cell-role="th">crop_pct</th>
<th data-quarto-table-cell-role="th">interpolation</th>
<th data-quarto-table-cell-role="th">secs</th>
<th data-quarto-table-cell-role="th">family</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>levit_128s</td>
<td>6303.14</td>
<td>80.293</td>
<td>512</td>
<td>224</td>
<td>7.78</td>
<td>76.530</td>
<td>23.470</td>
<td>92.866</td>
<td>7.134</td>
<td>7.78</td>
<td>224</td>
<td>0.900</td>
<td>bicubic</td>
<td>0.000159</td>
<td>levit</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>levit_128</td>
<td>4434.56</td>
<td>114.332</td>
<td>512</td>
<td>224</td>
<td>9.21</td>
<td>78.486</td>
<td>21.514</td>
<td>94.010</td>
<td>5.990</td>
<td>9.21</td>
<td>224</td>
<td>0.900</td>
<td>bicubic</td>
<td>0.000226</td>
<td>levit</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">3</td>
<td>levit_192</td>
<td>3823.94</td>
<td>132.765</td>
<td>512</td>
<td>224</td>
<td>10.95</td>
<td>79.842</td>
<td>20.158</td>
<td>94.786</td>
<td>5.214</td>
<td>10.95</td>
<td>224</td>
<td>0.900</td>
<td>bicubic</td>
<td>0.000262</td>
<td>levit</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">4</td>
<td>resnet18</td>
<td>3584.19</td>
<td>142.504</td>
<td>512</td>
<td>224</td>
<td>11.69</td>
<td>69.748</td>
<td>30.252</td>
<td>89.078</td>
<td>10.922</td>
<td>11.69</td>
<td>224</td>
<td>0.875</td>
<td>bilinear</td>
<td>0.000279</td>
<td>resnet</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>levit_256</td>
<td>2923.52</td>
<td>174.041</td>
<td>512</td>
<td>224</td>
<td>18.89</td>
<td>81.510</td>
<td>18.490</td>
<td>95.490</td>
<td>4.510</td>
<td>18.89</td>
<td>224</td>
<td>0.900</td>
<td>bicubic</td>
<td>0.000342</td>
<td>levit</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Now we can repeat the same family plot we did above:</p>
<div id="f2e59626" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:40.283872Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:40.283087Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:40.420333Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:40.419406Z&quot;}" data-papermill="{&quot;duration&quot;:0.162634,&quot;end_time&quot;:&quot;2023-04-25T13:35:40.422845&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:40.260211&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>show_all(tdf, <span class="st">'Training'</span>, <span class="st">'train_img_size'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="5de5a8eb-7554-4b72-a226-407e39a681ce" class="plotly-graph-div" style="height:800px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5de5a8eb-7554-4b72-a226-407e39a681ce")) {                    Plotly.newPlot(                        "5de5a8eb-7554-4b72-a226-407e39a681ce",                        [{"customdata":[[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=levit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["levit_128s","levit_128","levit_192","levit_256","levit_384"],"legendgroup":"levit","marker":{"color":"#636efa","size":[50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"levit","orientation":"v","showlegend":true,"x":[0.00015865108501477042,0.00022550151537018326,0.00026151037934695625,0.000342053415061296,0.0005556697765651828],"xaxis":"x","y":[76.53,78.486,79.842,81.51,82.586],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[256],[224],[256],[256],[224],[224],[288],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnet<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18","resnet34","resnet26","resnet26t","resnet50","resnet32ts","resnet33ts","resnet101","resnet152","resnet51q","resnet61q"],"legendgroup":"resnet","marker":{"color":"#EF553B","size":[50176,50176,50176,65536,50176,65536,65536,50176,50176,82944,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnet","orientation":"v","showlegend":true,"x":[0.000279003066243698,0.0004805543675183692,0.0005087349795997273,0.000814431730260211,0.0008179223137386412,0.0009786938352075321,0.0009906973518659784,0.0013745704467353953,0.0020006802312786346,0.0035980282805022847,0.004809773459670049],"xaxis":"x","y":[69.748,75.11,75.292,77.882,80.374,79.004,79.214,81.938,82.822,82.36,82.524],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[320],[320],[320]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetd<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18d","resnet34d","resnet26d","resnet50d","resnet101d","resnet152d","resnet200d"],"legendgroup":"resnetd","marker":{"color":"#00cc96","size":[50176,50176,50176,50176,102400,102400,102400],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetd","orientation":"v","showlegend":true,"x":[0.0003533543932551713,0.0005558550996926121,0.0006213611537433903,0.0009343960531110716,0.003054274457102715,0.0046277014207043365,0.006017209218364523],"xaxis":"x","y":[72.26,77.116,76.696,80.53,83.022,83.68,83.962],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnetx<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnetx_002","regnetx_004","regnetx_006","regnetx_008","regnetx_016","regnetx_032","regnetx_040","regnetx_080","regnetx_064","regnetx_120","regnetx_160","regnetx_320"],"legendgroup":"regnetx","marker":{"color":"#ab63fa","size":[50176,50176,50176,50176,50176,50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnetx","orientation":"v","showlegend":true,"x":[0.0004215904922912179,0.0008689456213830139,0.0012649261283141065,0.001689760054072322,0.002637061258933045,0.005628095452498874,0.006177796997590659,0.0066657778962804955,0.008056070248932571,0.012896569512509672,0.015382248884786955,0.021663778162911613],"xaxis":"x","y":[68.762,72.396,73.852,75.038,76.95,78.172,78.482,79.194,79.072,79.596,79.856,80.246],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[288],[288],[224],[288],[224],[288],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnety<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnety_002","regnety_004","regnety_006","regnety_008","regnety_016","regnety_032","regnety_040","regnety_120","regnety_064","regnety_320","regnety_080","regnety_160"],"legendgroup":"regnety","marker":{"color":"#FFA15A","size":[50176,50176,50176,50176,50176,82944,82944,50176,82944,50176,82944,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnety","orientation":"v","showlegend":true,"x":[0.00044342751733801594,0.0009734728644439036,0.0012694221590332081,0.0015109848599317035,0.002829975096219153,0.005617661929105107,0.008316008316008316,0.013273161667109104,0.013757050488375293,0.014817009927396653,0.015278838808250572,0.02077274615704196],"xaxis":"x","y":[70.252,74.034,75.246,76.316,77.862,82.724,83.038,80.366,83.716,80.81,83.932,83.686],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=repvgg<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["repvgg_b0","repvgg_a2","repvgg_b1","repvgg_b2","repvgg_b3","repvgg_b1g4","repvgg_b2g4","repvgg_b3g4"],"legendgroup":"repvgg","marker":{"color":"#19d3f3","size":[50176,50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"repvgg","orientation":"v","showlegend":true,"x":[0.0006304573968414084,0.0008755494072530513,0.0015941081761808359,0.0026313712075362473,0.003168969451134491,0.0056050669805504175,0.00977230528681716,0.011799410029498525],"xaxis":"x","y":[75.152,76.46,78.366,78.792,80.492,77.594,79.366,80.212],"yaxis":"y","type":"scatter"},{"customdata":[[256],[256],[256]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=mobilevit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["mobilevit_xxs","mobilevit_xs","mobilevit_s"],"legendgroup":"mobilevit","marker":{"color":"#FF6692","size":[65536,65536,65536],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"mobilevit","orientation":"v","showlegend":true,"x":[0.0006599091964945623,0.0010994931336653802,0.0013611738763509651],"xaxis":"x","y":[68.912,74.644,78.312],"yaxis":"y","type":"scatter"},{"customdata":[[240],[240],[240],[240],[240],[240],[240],[240],[240],[408],[408]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=crossvit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["crossvit_tiny_240","crossvit_9_240","crossvit_9_dagger_240","crossvit_small_240","crossvit_15_240","crossvit_15_dagger_240","crossvit_18_240","crossvit_18_dagger_240","crossvit_base_240","crossvit_15_dagger_408","crossvit_18_dagger_408"],"legendgroup":"crossvit","marker":{"color":"#B6E880","size":[57600,57600,57600,57600,57600,57600,57600,57600,57600,166464,166464],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"crossvit","orientation":"v","showlegend":true,"x":[0.0007573864109730144,0.0008087343307723412,0.0008364071295343722,0.0016024613806807258,0.001759138725679907,0.0018183140592043056,0.0024990628514307135,0.002577651759247326,0.004000160006400256,0.008588851670531649,0.011364927832708264],"xaxis":"x","y":[73.324,73.964,76.98,81.02,81.536,82.332,82.4,82.518,82.216,83.838,84.196],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[448],[448],[224],[448],[384],[448],[448],[480]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetv2<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetv2_50","resnetv2_101","resnetv2_50x1_bitm","resnetv2_101x1_bitm","resnetv2_152x2_bit_teacher","resnetv2_50x3_bitm","resnetv2_152x2_bit_teacher_384","resnetv2_152x2_bitm","resnetv2_101x3_bitm","resnetv2_152x4_bitm"],"legendgroup":"resnetv2","marker":{"color":"#FF97FF","size":[50176,50176,200704,200704,50176,200704,147456,200704,200704,230400],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetv2","orientation":"v","showlegend":true,"x":[0.0007716049382716049,0.0013201494409167118,0.007103786318107551,0.011508804235239959,0.011574074074074073,0.03143665513989312,0.03342245989304812,0.04599816007359706,0.057045065601825436,0.22271714922048996],"xaxis":"x","y":[80.432,82.03,80.342,82.332,82.862,84.014,83.844,84.51,84.44,84.916],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=convit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["convit_tiny","convit_small","convit_base"],"legendgroup":"convit","marker":{"color":"#FECB52","size":[50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"convit","orientation":"v","showlegend":true,"x":[0.0009024537718055393,0.0022212843466092097,0.004373496610540126],"xaxis":"x","y":[73.116,81.426,82.288],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=vgg<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["vgg11","vgg11_bn","vgg13","vgg13_bn","vgg16","vgg16_bn","vgg19","vgg19_bn"],"legendgroup":"vgg","marker":{"color":"#636efa","size":[50176,50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"vgg","orientation":"v","showlegend":true,"x":[0.001074575542660649,0.0012416499043929573,0.0015078180365193528,0.001758118110374655,0.001863967641521743,0.0021277953911951826,0.0022130748461912982,0.002501626056937009],"xaxis":"x","y":[69.024,70.36,69.926,71.594,71.594,73.35,72.368,74.214],"yaxis":"y","type":"scatter"},{"customdata":[[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetblur<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetblur50"],"legendgroup":"resnetblur","marker":{"color":"#EF553B","size":[50176],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetblur","orientation":"v","showlegend":true,"x":[0.001099408518217199],"xaxis":"x","y":[79.286],"yaxis":"y","type":"scatter"},{"customdata":[[224],[288],[320],[320],[352],[384],[416]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetrs<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetrs50","resnetrs101","resnetrs152","resnetrs200","resnetrs270","resnetrs350","resnetrs420"],"legendgroup":"resnetrs","marker":{"color":"#00cc96","size":[50176,82944,102400,102400,123904,147456,173056],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetrs","orientation":"v","showlegend":true,"x":[0.0011601466425356164,0.0031080997078386276,0.00584316933504733,0.00808080808080808,0.013285505513484789,0.021177467174925878,0.03105590062111801],"xaxis":"x","y":[79.892,82.288,83.712,84.448,84.434,84.72,85.008],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[384],[384]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=swin<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["swin_tiny_patch4_window7_224","swin_s3_tiny_224","swin_small_patch4_window7_224","swin_s3_small_224","swin_base_patch4_window7_224","swin_s3_base_224","swin_large_patch4_window7_224","swin_base_patch4_window12_384","swin_large_patch4_window12_384"],"legendgroup":"swin","marker":{"color":"#ab63fa","size":[50176,50176,50176,50176,50176,50176,50176,147456,147456],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"swin","orientation":"v","showlegend":true,"x":[0.0015640885274106513,0.0017278319165111619,0.002542071279678682,0.003609456776755098,0.0036254214552441724,0.004564750992833341,0.006607201850016518,0.013585110718652357,0.024378352023403216],"xaxis":"x","y":[81.378,82.122,83.212,83.77,85.252,83.93,86.32,86.432,87.148],"yaxis":"y","type":"scatter"},{"customdata":[[224],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetv2d<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnetv2_50x1_bit_distilled","resnetv2_50d_evos"],"legendgroup":"resnetv2d","marker":{"color":"#FFA15A","size":[50176,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"resnetv2d","orientation":"v","showlegend":true,"x":[0.001695950071229903,0.004472271914132379],"xaxis":"x","y":[82.818,81.976],"yaxis":"y","type":"scatter"},{"customdata":[[320],[320],[288],[320],[320],[320],[320],[320],[320]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnetz<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnetz_d8","regnetz_c16","regnetz_b16","regnetz_e8","regnetz_c16_evos","regnetz_d8_evos","regnetz_040","regnetz_040h","regnetz_d32"],"legendgroup":"regnetz","marker":{"color":"#19d3f3","size":[102400,102400,82944,102400,102400,102400,102400,102400,102400],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnetz","orientation":"v","showlegend":true,"x":[0.0032123353678123997,0.003997441637352095,0.005506607929515419,0.006836671908115129,0.008684324793747285,0.010453690152623877,0.010575296108291032,0.010622477161674103,0.013854253255749514],"xaxis":"x","y":[84.05,82.518,80.716,85.03,82.63,84.05,84.236,84.494,84.022],"yaxis":"y","type":"scatter"},{"customdata":[[288],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnetv<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnetv_040","regnetv_064"],"legendgroup":"regnetv","marker":{"color":"#FF6692","size":[82944,82944],"sizemode":"area","sizeref":576.0,"symbol":"circle"},"mode":"markers","name":"regnetv","orientation":"v","showlegend":true,"x":[0.008409014463504878,0.013925637097897228],"xaxis":"x","y":[83.194,83.712],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"secs"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"top1"}},"legend":{"title":{"text":"family"},"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"Training"},"height":800,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('5de5a8eb-7554-4b72-a226-407e39a681ce');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<p>And we also look at a subset of models:</p>
<div id="1dc5e053" class="cell" data-execution="{&quot;iopub.execute_input&quot;:&quot;2023-04-25T13:35:40.514020Z&quot;,&quot;iopub.status.busy&quot;:&quot;2023-04-25T13:35:40.513753Z&quot;,&quot;iopub.status.idle&quot;:&quot;2023-04-25T13:35:40.626299Z&quot;,&quot;shell.execute_reply&quot;:&quot;2023-04-25T13:35:40.625498Z&quot;}" data-papermill="{&quot;duration&quot;:0.138141,&quot;end_time&quot;:&quot;2023-04-25T13:35:40.628679&quot;,&quot;exception&quot;:false,&quot;start_time&quot;:&quot;2023-04-25T13:35:40.490538&quot;,&quot;status&quot;:&quot;completed&quot;}" data-tags="[]" data-execution_count="11">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>show_subs(tdf, <span class="st">'Training'</span>, <span class="st">'train_img_size'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="f50adec2-f9ed-4c70-a3e4-733d375480f5" class="plotly-graph-div" style="height:800px; width:1000px;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f50adec2-f9ed-4c70-a3e4-733d375480f5")) {                    Plotly.newPlot(                        "f50adec2-f9ed-4c70-a3e4-733d375480f5",                        [{"customdata":[[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=levit<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["levit_128s","levit_128","levit_192","levit_256","levit_384"],"legendgroup":"levit","marker":{"color":"#636efa","size":[50176,50176,50176,50176,50176],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"levit","orientation":"v","showlegend":true,"x":[0.00015865108501477042,0.00022550151537018326,0.00026151037934695625,0.000342053415061296,0.0005556697765651828],"xaxis":"x","y":[76.53,78.486,79.842,81.51,82.586],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 11.4401 * log10(secs) + 120.403<br>R<sup>2</sup>=0.944202<br><br>family=levit<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"levit","marker":{"color":"#636efa","symbol":"circle"},"mode":"lines","name":"levit","showlegend":false,"x":[0.00015865108501477042,0.00022550151537018326,0.00026151037934695625,0.000342053415061296,0.0005556697765651828],"xaxis":"x","y":[76.93587257041375,78.68284246652384,79.41888952763452,80.75285719856814,83.16353823685978],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[256],[224],[256],[256],[224],[224],[288],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnet<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18","resnet34","resnet26","resnet26t","resnet50","resnet32ts","resnet33ts","resnet101","resnet152","resnet51q","resnet61q"],"legendgroup":"resnet","marker":{"color":"#EF553B","size":[50176,50176,50176,65536,50176,65536,65536,50176,50176,82944,82944],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"resnet","orientation":"v","showlegend":true,"x":[0.000279003066243698,0.0004805543675183692,0.0005087349795997273,0.000814431730260211,0.0008179223137386412,0.0009786938352075321,0.0009906973518659784,0.0013745704467353953,0.0020006802312786346,0.0035980282805022847,0.004809773459670049],"xaxis":"x","y":[69.748,75.11,75.292,77.882,80.374,79.004,79.214,81.938,82.822,82.36,82.524],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 9.6318 * log10(secs) + 107.366<br>R<sup>2</sup>=0.783987<br><br>family=resnet<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"resnet","marker":{"color":"#EF553B","symbol":"circle"},"mode":"lines","name":"resnet","showlegend":false,"x":[0.000279003066243698,0.0004805543675183692,0.0005087349795997273,0.000814431730260211,0.0008179223137386412,0.0009786938352075321,0.0009906973518659784,0.0013745704467353953,0.0020006802312786346,0.0035980282805022847,0.004809773459670049],"xaxis":"x","y":[73.13031127032704,75.40470352735171,75.64308174714776,77.61146707190882,77.62935690569128,78.38000964239907,78.43100185556662,79.80089491068142,81.37098192795938,83.82600268521719,85.04018845574932],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[320],[320],[320]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=resnetd<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["resnet18d","resnet34d","resnet26d","resnet50d","resnet101d","resnet152d","resnet200d"],"legendgroup":"resnetd","marker":{"color":"#00cc96","size":[50176,50176,50176,50176,102400,102400,102400],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"resnetd","orientation":"v","showlegend":true,"x":[0.0003533543932551713,0.0005558550996926121,0.0006213611537433903,0.0009343960531110716,0.003054274457102715,0.0046277014207043365,0.006017209218364523],"xaxis":"x","y":[72.26,77.116,76.696,80.53,83.022,83.68,83.962],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 8.4217 * log10(secs) + 103.687<br>R<sup>2</sup>=0.886480<br><br>family=resnetd<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"resnetd","marker":{"color":"#00cc96","symbol":"circle"},"mode":"lines","name":"resnetd","showlegend":false,"x":[0.0003533543932551713,0.0005558550996926121,0.0006213611537433903,0.0009343960531110716,0.003054274457102715,0.0046277014207043365,0.006017209218364523],"xaxis":"x","y":[74.61747678050332,76.2744550068185,76.68191781720965,78.17413225032574,82.5060602554907,84.02581678521597,84.98614110443597],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[288],[288],[224],[288],[224],[288],[288]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=regnety<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["regnety_002","regnety_004","regnety_006","regnety_008","regnety_016","regnety_032","regnety_040","regnety_120","regnety_064","regnety_320","regnety_080","regnety_160"],"legendgroup":"regnety","marker":{"color":"#ab63fa","size":[50176,50176,50176,50176,50176,82944,82944,50176,82944,50176,82944,82944],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"regnety","orientation":"v","showlegend":true,"x":[0.00044342751733801594,0.0009734728644439036,0.0012694221590332081,0.0015109848599317035,0.002829975096219153,0.005617661929105107,0.008316008316008316,0.013273161667109104,0.013757050488375293,0.014817009927396653,0.015278838808250572,0.02077274615704196],"xaxis":"x","y":[70.252,74.034,75.246,76.316,77.862,82.724,83.038,80.366,83.716,80.81,83.932,83.686],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 7.5135 * log10(secs) + 96.8802<br>R<sup>2</sup>=0.885147<br><br>family=regnety<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"regnety","marker":{"color":"#ab63fa","symbol":"circle"},"mode":"lines","name":"regnety","showlegend":false,"x":[0.00044342751733801594,0.0009734728644439036,0.0012694221590332081,0.0015109848599317035,0.002829975096219153,0.005617661929105107,0.008316008316008316,0.013273161667109104,0.013757050488375293,0.014817009927396653,0.015278838808250572,0.02077274615704196],"xaxis":"x","y":[71.68607419123339,74.25194263456441,75.11811532944947,75.68654174254237,77.73413883809515,79.97145538667459,81.25144965351272,82.77713644179305,82.89397844130431,83.13617783774733,83.23633108413543,84.23865841894818],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[224]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=vgg<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["vgg11","vgg11_bn","vgg13","vgg13_bn","vgg16","vgg16_bn","vgg19","vgg19_bn"],"legendgroup":"vgg","marker":{"color":"#FFA15A","size":[50176,50176,50176,50176,50176,50176,50176,50176],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"vgg","orientation":"v","showlegend":true,"x":[0.001074575542660649,0.0012416499043929573,0.0015078180365193528,0.001758118110374655,0.001863967641521743,0.0021277953911951826,0.0022130748461912982,0.002501626056937009],"xaxis":"x","y":[69.024,70.36,69.926,71.594,71.594,73.35,72.368,74.214],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 12.958 * log10(secs) + 107.366<br>R<sup>2</sup>=0.887398<br><br>family=vgg<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"vgg","marker":{"color":"#FFA15A","symbol":"circle"},"mode":"lines","name":"vgg","showlegend":false,"x":[0.001074575542660649,0.0012416499043929573,0.0015078180365193528,0.001758118110374655,0.001863967641521743,0.0021277953911951826,0.0022130748461912982,0.002501626056937009],"xaxis":"x","y":[68.89683377875009,69.71010679889514,70.8031116267968,71.66739909526987,71.99640701122325,72.74138211097761,72.96252651556347,73.65223306252335],"yaxis":"y","type":"scatter"},{"customdata":[[224],[224],[224],[224],[224],[224],[224],[384],[384]],"hovertemplate":"<b>%{hovertext}</b><br><br>family=swin<br>secs=%{x}<br>top1=%{y}<br>size=%{marker.size}<br>train_img_size=%{customdata[0]}<extra></extra>","hovertext":["swin_tiny_patch4_window7_224","swin_s3_tiny_224","swin_small_patch4_window7_224","swin_s3_small_224","swin_base_patch4_window7_224","swin_s3_base_224","swin_large_patch4_window7_224","swin_base_patch4_window12_384","swin_large_patch4_window12_384"],"legendgroup":"swin","marker":{"color":"#19d3f3","size":[50176,50176,50176,50176,50176,50176,50176,147456,147456],"sizemode":"area","sizeref":368.64,"symbol":"circle"},"mode":"markers","name":"swin","orientation":"v","showlegend":true,"x":[0.0015640885274106513,0.0017278319165111619,0.002542071279678682,0.003609456776755098,0.0036254214552441724,0.004564750992833341,0.006607201850016518,0.013585110718652357,0.024378352023403216],"xaxis":"x","y":[81.378,82.122,83.212,83.77,85.252,83.93,86.32,86.432,87.148],"yaxis":"y","type":"scatter"},{"hovertemplate":"<b>OLS trendline</b><br>top1 = 4.70102 * log10(secs) + 95.3895<br>R<sup>2</sup>=0.857526<br><br>family=swin<br>secs=%{x}<br>top1=%{y} <b>(trend)</b><extra></extra>","legendgroup":"swin","marker":{"color":"#19d3f3","symbol":"circle"},"mode":"lines","name":"swin","showlegend":false,"x":[0.0015640885274106513,0.0017278319165111619,0.002542071279678682,0.003609456776755098,0.0036254214552441724,0.004564750992833341,0.006607201850016518,0.013585110718652357,0.024378352023403216],"xaxis":"x","y":[82.19963247512837,82.40290516970776,83.19120084208586,83.90694991501036,83.91596014131392,84.38633718706168,85.14132263937779,86.61295507329952,87.80673655701408],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"secs"},"type":"log"},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"top1"}},"legend":{"title":{"text":"family"},"tracegroupgap":0,"itemsizing":"constant"},"title":{"text":"Training"},"height":800,"width":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f50adec2-f9ed-4c70-a3e4-733d375480f5');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/volfenstein1\.github\.io\/quarto\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>